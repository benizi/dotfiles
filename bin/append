#!/bin/sh
awk '
BEGIN {
  append = ARGV[1] ~ "append$"
  prepend = !append
  # skip ARGV[1] = passed-in $0
  for (i=2; i<ARGC; i++) string = string (string ? " " : "") ARGV[i]
  ARGC = 1
}
append { print $0 string }
prepend { print string $0 }
' "$0" "$@"
