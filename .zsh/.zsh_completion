# don't try to auto-correct directories
zstyle ':completion:*' accept-exact-dirs true
# <C-x><C-f> == complete file regardless of context
zle -C complete-files complete-word _generic
zstyle ':completion:complete-files:*' completer _files
bindkey '^X^F' complete-files
# <C-x><C-h> == complete history regardless of context
zle -C complete-history complete-word _generic
zstyle ':completion:complete-history:*' completer _history
bindkey '^X^H' complete-history
# don't insert tab on empty line
zstyle ':completion:*' insert-tab false
# only complete bhaskell/root/current for ssh'ing
local _ssh_users
typeset -U _ssh_users
_ssh_users=( bhaskell root $LOGNAME )
zstyle ':completion:*:ssh:*' users ${^_ssh_users}
# complete all git commands
zstyle ':completion:*:git:*' wanted-commands all
# add custom git commands to completion
zstyle ':completion:*:git:*' user-commands ${${(k)commands[(I)git-*]}#git-}

# from mikachu
zstyle ':completion:*:descriptions' format "%B---- %d%b"
zstyle ':completion:*:messages' format '%B%U---- %d%u%b'
zstyle ':completion:*:warnings' format '%B%F{9}---- no match for: %d%f%b'
zstyle ':completion:*:corrections' format '%B---- %d %F{11}(errors: %e)%f%b'
zstyle ':completion:*:options' description 'yes'
zstyle ':completion:*:options' auto-description '%d'
zstyle ':completion:*' separate-sections 'yes'
zstyle ':completion:*' group-name ''
zstyle ':completion:*' prompt 'errors: %e'
