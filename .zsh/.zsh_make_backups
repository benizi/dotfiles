function () {
	local tobackup listfile BZF FILE fm lm
	tobackup=( .historyfile )
	for listfile in ${^zsh_dirs}/backup{,s}(.N) ; do
		tobackup+=( "${(f)$(<$listfile)}" )
	done
	for f in $tobackup ; do
		[[ -f $f ]] || f=~/$f
		FILE=$f:h/.backup.$f:t
		FILE=$FILE:gs/.././
		# %Y.%U.%w = year-week-dayofweek
		BZF="$FILE.`date +%Y.%j`.bz2"
		if [ -f $f ] ; then
			[[ -f $BZF ]] && break
			bzip2 < $f > $BZF
			fm=`md5sum < $BZF`
			for l in $FILE.*(On) ; do
				[[ $l = $BZF ]] && continue
				lm=`md5sum < $l`
				if [[ "$fm" = "$lm" ]] ; then
					echo rm $l
				else
					echo keep $l "($lm != $fm)"
					fm="$lm"
					# break
				fi
			done
		fi
	done
}
