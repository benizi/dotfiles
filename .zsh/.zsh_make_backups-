for f in .historyfile
do
	FILE=~/.backup.$f
	FILE=$FILE:gs/.././
	BZF="$FILE.`date +%Y.%U`.bz2"
	if [ -f ~/$f ]
	then
		[[ -f $BZF ]] && break
		bzip2 < ~/$f > $BZF
		fm=`md5sum < $BZF`
		for l in $FILE.*(On)
		do
			[[ $l = $BZF ]] && continue
			lm=`md5sum < $l`
			if [[ "$fm" = "$lm" ]]
			then rm $l
			else # echo keep $l "($lm != $fm)"
			fm="$lm"
			# break
			fi
		done
	fi
done
