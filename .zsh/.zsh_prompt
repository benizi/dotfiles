setopt promptsubst
PSC=GREEN
PSCB=BOLD
PSCR=GOLD
PSCRB=
export PROMPT='%{%(!.${(P)PSCRB}${(P)PSCR}.${(P)PSCB}${(P)PSC})%}%n@%m %~%(!.#.$)%{${NOCOLOR}%} '
export PS1
function fancytitle () {
	print -nP '${TITLE}$1%(!.ROOT │ .)%m │ %~ │ %n${STY+ │ $$}${ENDTITLE}'
}
function preexec () {
	if [ $SHLVL -eq 1 -a "$TERM" = "linux" ] ; then return ; fi
	[[ -z "$NOTITLE" ]] || return
	COMMAND="$1 │ "
	COMMAND=$COMMAND:gs/%/%%/ #:gs/\$/\\\\\$/
	fancytitle $COMMAND
}
function precmd () {
	if [ $SHLVL -eq 1 -a "$TERM" = "linux" ] ; then return ; fi
	[[ -z "$NOTITLE" ]] || return
	fancytitle ""
}
